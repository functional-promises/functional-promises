!function(t){function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}var r={};n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{configurable:!1,enumerable:!0,get:e})},n.n=function(t){var r=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},n.p="",n(n.s=0)}([/*!**********************!*\
  !*** ./src/index.js ***!
  \**********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){(function(n){function e(t,n){if(!(this instanceof e))return new e(t);if(void 0!=n)throw new Error("FunctionalPromise only accepts 1 argument");this._FP={errors:{limit:1,count:0},concurrencyLimit:4,promise:new Promise(t)}}var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},i=r(/*! ./modules/errors */1),u=i.FunctionalError,c=r(/*! ./modules/utils */2),s=c.isFunction,a=c.flatten,f=r(/*! ./monads */4),l=f.chain,p=f.chainEnd,h=e;Object.assign(h.prototype,r(/*! ./arrays */5),r(/*! ./events */6),r(/*! ./conditional */7),r(/*! ./promise */8)),h.all=h.prototype.all,h.thenIf=h.prototype._thenIf,h.delay=function(t){return h.resolve().delay(t)},h.chain=l,h.prototype.chainEnd=p,h.prototype.addStep=function(t,n){return this.steps&&this.steps.push([t,this,n]),this},h.prototype.concurrency=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return this.steps?this.addStep("concurrency",[].concat(Array.prototype.slice.call(arguments))):(this._FP.concurrencyLimit=t,this)},h.prototype.quiet=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1/0;return this.steps?this.addStep("quiet",[].concat(Array.prototype.slice.call(arguments))):(this._FP.errors={count:0,limit:t},this)},h.prototype.get=function(){for(var t=arguments.length,n=Array(t),r=0;r<t;r++)n[r]=arguments[r];return this.steps?this.addStep("get",[].concat(Array.prototype.slice.call(arguments))):(n=a(n),this.then(function(t){return"object"===(void 0===t?"undefined":o(t))?1===n.length?t[n[0]]:n.reduce(function(n,r){return n[r]=t[r],n},{}):t}))},h.prototype.set=function(t,n){return this.steps?this.addStep("set",[].concat(Array.prototype.slice.call(arguments))):this.then(function(r){return"object"===(void 0===r?"undefined":o(r))&&(r[t]=n),r})},h.prototype.catch=function(t){if(this.steps)return this.addStep("catch",[].concat(Array.prototype.slice.call(arguments)));if(2===arguments.length)return this.catchIf.apply(this,arguments);if(!s(t))throw new u("Invalid fn argument for `.catch(fn)`. Must be a function. Currently: "+(void 0===t?"undefined":o(t)));return h.resolve(this._FP.promise.catch(function(n){return t(n)}))},h.prototype.catchIf=function(t,n){if(this.steps)return this.addStep("catchIf",[].concat(Array.prototype.slice.call(arguments)));if(!s(n))throw new u("Invalid fn argument for `.catchIf(condition, fn)`. Must be a function. Currently: "+(void 0===n?"undefined":o(n)));return h.resolve(this._FP.promise.catch(function(r){if(t&&r instanceof t)return n(r);throw r}))},h.prototype.then=function(t){if(this.steps)return this.addStep("then",[].concat(Array.prototype.slice.call(arguments)));if(!s(t))throw new u("Invalid fn argument for `.then(fn)`. Must be a function. Currently: "+(void 0===t?"undefined":o(t)));return h.resolve(this._FP.promise.then(t))},h.prototype.tap=function(t){if(this.steps)return this.addStep("tap",[].concat(Array.prototype.slice.call(arguments)));if(!s(t))throw new u("Invalid fn argument for `.tap(fn)`. Must be a function. Currently: "+(void 0===t?"undefined":o(t)));return h.resolve(this._FP.promise.then(function(n){return t(n),n}))},h.resolve=h.prototype.resolve=function(t){return new h(function(n,r){if(t&&s(t.then))return t.then(n).catch(r);n(t)})},h.promisify=function(t){var n=this;return function(){for(var r=arguments.length,e=Array(r),o=0;o<r;o++)e[o]=arguments[o];return new h(function(r,o){return t.call.apply(t,[n].concat(e,[function(t,n){return t?o(t):r(n)}]))})}},h.promisifyAll=function(t){if(!t||!Object.getPrototypeOf(t))throw new Error("Invalid Argument obj in promisifyAll(obj)");return Object.getOwnPropertyNames(t).filter(function(n){return"function"==typeof t[n]}).reduce(function(t,n){return/Sync/.test(n)||t[n+"Async"]||(t[n+"Async"]=h.promisify(t[""+n])),t},t)},h.unpack=function(){var t=void 0,n=void 0,r=void 0;return r=new Promise(function(r,e){t=r,n=e}),{promise:r,resolve:t,reject:n}},t.exports=e,n&&n.on&&(n.on("uncaughtException",function(t){return console.error("Process: FATAL EXCEPTION: uncaughtException",t,"\n\n")}),n.on("unhandledRejection",function(t){return console.error("Process: FATAL PROMISE ERROR: unhandledRejection",t,"\n\n")}))}).call(n,r(/*! ./../node_modules/process/browser.js */3))},/*!*******************************!*\
  !*** ./src/modules/errors.js ***!
  \*******************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}function e(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n}function o(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},u=function(t){function n(t,o){r(this,n),"object"===(void 0===t?"undefined":i(t))&&(o=t,t.message&&(t=t.message));var u=e(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return"object"===(void 0===o?"undefined":i(o))&&Object.getOwnPropertyNames(o).forEach(function(t){u[t]=o[t]}),u.name=u.constructor.name,Error.captureStackTrace(u,u.constructor),u}return o(n,t),n}(Error),c=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),s=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),a=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),f=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u),l=function(t){function n(){return r(this,n),e(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return o(n,t),n}(u);t.exports={FunctionalError:u,FunctionalUserError:c,FPUnexpectedError:s,FPInputError:a,FPSoftError:f,FPTimeout:l}},/*!******************************!*\
  !*** ./src/modules/utils.js ***!
  \******************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){var r=t.exports={isPromiseLike:function(t){return t&&"function"==typeof t.then},isFunction:function(t){return"function"==typeof t},isEnumerable:function(t){return t&&Array.isArray(t)||"function"==typeof t[Symbol.iterator]},flatten:function(t){if(!Array.isArray(t))throw new Error("Method `flatten` requires valid array parameter");return t.reduce(function(t,n){return t.concat(Array.isArray(n)?r.flatten(n):[n])},[])}}},/*!*****************************************!*\
  !*** ./node_modules/process/browser.js ***!
  \*****************************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n){function r(){throw new Error("setTimeout has not been defined")}function e(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===r||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(n){try{return f.call(null,t,0)}catch(n){return f.call(this,t,0)}}}function i(t){if(l===clearTimeout)return clearTimeout(t);if((l===e||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(n){try{return l.call(null,t)}catch(n){return l.call(this,t)}}}function u(){d&&h&&(d=!1,h.length?y=h.concat(y):m=-1,y.length&&c())}function c(){if(!d){var t=o(u);d=!0;for(var n=y.length;n;){for(h=y,y=[];++m<n;)h&&h[m].run();m=-1,n=y.length}h=null,d=!1,i(t)}}function s(t,n){this.fun=t,this.array=n}function a(){}var f,l,p=t.exports={};!function(){try{f="function"==typeof setTimeout?setTimeout:r}catch(t){f=r}try{l="function"==typeof clearTimeout?clearTimeout:e}catch(t){l=e}}();var h,y=[],d=!1,m=-1;p.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)n[r-1]=arguments[r];y.push(new s(t,n)),1!==y.length||d||o(c)},s.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=a,p.addListener=a,p.once=a,p.off=a,p.removeListener=a,p.removeAllListeners=a,p.emit=a,p.prependListener=a,p.prependOnceListener=a,p.listeners=function(t){return[]},p.binding=function(t){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(t){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},/*!***********************!*\
  !*** ./src/monads.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)}function o(){var t=r(/*! ./index */0),n=t.resolve();return n.steps=[],n}function i(){var t=this,n=r(/*! ./index */0);return function(r){return new n(function(o,i){var c=t.steps[Symbol.iterator]();!function t(n){var r=c.next();if(r.done)return o(n);var i=u(r.value,3),s=i[0],a=i[2];return t(n[s].apply(n,e(a)))}(n.resolve(r))})}}var u=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),c=r(/*! ./modules/errors */1);c.FPInputError;t.exports={chain:o,chainEnd:i}},/*!***********************!*\
  !*** ./src/arrays.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){if(Array.isArray(t)){for(var n=0,r=Array(t.length);n<t.length;n++)r[n]=t[n];return r}return Array.from(t)}function o(t){return u.call(this,t).then(function(t){return t.item})}function i(t){return u.call(this,t).then(function(t){return t.index})}function u(t,n){var e=r(/*! ./index */0);return this.steps?this.addStep("_find",[].concat(Array.prototype.slice.call(arguments))):("function"==typeof t&&(n=t,t=this._FP.promise),e.resolve(t).filter(n).then(function(t){return t&&t[0]?{item:t[0],index:t.indexOf(t[0])}:{item:void 0,index:-1}}))}function c(t,n){return this.steps?this.addStep("filter",[].concat(Array.prototype.slice.call(arguments))):("function"==typeof t&&(n=t,t=this._FP.promise),s(t,function(t,r){return Promise.resolve(n(r)).then(function(n){return n?t.concat([r]):t})},[]))}function s(t,n,e){var o=r(/*! ./index */0);return this.steps?this.addStep("reduce",[].concat(Array.prototype.slice.call(arguments))):("function"==typeof t?(e=n,n=t,t=this._FP?this._FP.promise:this):t=o.resolve(t,this),new o(function(r,o){return t.then(function(t){var i=t[Symbol.iterator](),u=0;!function t(e){var c=i.next();if(c.done)return r(e);Promise.all([e,c.value]).then(function(r){var e=f(r,2),o=e[0],i=e[1];return t(n(o,i,u++))}).catch(o)}(e)})}))}function a(t,n,o){var i=this,u=r(/*! ./index */0);if(this.steps)return this.addStep("map",[].concat(Array.prototype.slice.call(arguments)));1===arguments.length&&this&&this._FP&&(n=t,t=this&&this._FP&&this._FP.promise);var c=!1,s=Math.max(1,Math.min(this&&this._FP&&this._FP.concurrencyLimit||1,4)),a=this&&this._FP&&this._FP.promise?this._FP.promise:Promise.resolve(t),f=0,l=[],h=0,m=[],v=[],b=new Set,P=function(){return b.size>=s},g=function(){return h>=t.length||c||l.length>i._FP.errors.limit},w=function(t){return function(n){return b.delete(t),m[t]=n,n}};return new u(function(r,o){var u=function(t){c||(c=!0,r(t))},_=function(t){c||(c=!0,o(t))};a.then(function(r){if(t=[].concat(e(r)),!p(r))return o(new y("Invalid input data passed into FP.map()"));for(var a=function(){return l.length>i._FP.errors.limit?(Promise.all(v).then(function(t){return _(m)}),!0):!!g()&&(Promise.all(v).then(function(t){return u(m)}),!0)},E=function(t){if(!c)return a()||m[h]||A(h),t},A=function r(e){if(!c)return h++,P()?setTimeout(function(){return r(e)},0):m[e]?m[e]:(b.add(e),v[e]=Promise.resolve(t[e]).then(function(r){return n(r,e,t)}).then(function(t){return w(e)(t)}).then(E).catch(function(t){if(i._FP.errors.count++,l.push(t),!(l.length>i._FP.errors.limit))return Promise.resolve().then(function(){return w(e)(t)}).then(E);var n=1===l.length?t:new d("Error Limit "+i._FP.errors.limit+" Exceeded. CurrentArrayIndex="+e+" ActualNumberOfErrors="+i._FP.errors.count,{errors:l,results:m,ctx:i});Promise.resolve(w(e)(t)).then(function(){_(n)})}),v[e])};f<s&&f<t.length;)A(f++)})})}var f=function(){function t(t,n){var r=[],e=!0,o=!1,i=void 0;try{for(var u,c=t[Symbol.iterator]();!(e=(u=c.next()).done)&&(r.push(u.value),!n||r.length!==n);e=!0);}catch(t){o=!0,i=t}finally{try{!e&&c.return&&c.return()}finally{if(o)throw i}}return r}return function(n,r){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return t(n,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=r(/*! ./modules/utils */2),p=l.isEnumerable,h=r(/*! ./modules/errors */1),y=h.FPInputError,d=h.FunctionalError;t.exports={map:a,find:o,findIndex:i,filter:c,reduce:s}},/*!***********************!*\
  !*** ./src/events.js ***!
  \***********************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){for(var n=arguments.length,r=Array(n>1?n-1:0),e=1;e<n;e++)r[e-1]=arguments[e];if("string"==typeof r&&(r=[r]),!t[t.addEventListener?"addEventListener":"on"])throw new i("Input object isn't a valid EventEmitter or similar.");var o=this.chainEnd();return this.cleanupHandles=r.map(function(n){return t[t.addEventListener?"addEventListener":"on"](n,o),function(){return t[t.removeEventListener?"removeEventListener":"off"](n,o)}}),this}var o=r(/*! ./modules/errors */1),i=o.FPInputError;t.exports={listen:e}},/*!****************************!*\
  !*** ./src/conditional.js ***!
  \****************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t,n,r){return this.steps?this.addStep("thenIf",[].concat(Array.prototype.slice.call(arguments))):(1===arguments.length&&(n=t,t=function(t){return t}),c(this)?this.then(function(e){return i(t,n,r)(e)}):i(t,n,r))}function o(t,n,r){return this.steps?this.addStep("tapIf",[].concat(Array.prototype.slice.call(arguments))):(1===arguments.length&&(n=t,t=function(t){return t}),c(this)?this.then(function(e){return i(t,n,r,!0)(e)}):i(t,n,r,!0))}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(t){return t},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(t){return t},e=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){return null},o=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=r(/*! ./index */0);return function(r){return i.resolve(t(r)).then(function(t){return t?n(r):e(r)}).then(function(t){return o?r:t})}}var u=r(/*! ./modules/utils */2),c=u.isPromiseLike;t.exports={thenIf:e,tapIf:o,_thenIf:i}},/*!************************!*\
  !*** ./src/promise.js ***!
  \************************/
/*! dynamic exports provided */
/*! all exports used */
function(t,n,r){function e(t){/*! ./ */
return r(0).resolve(Array.isArray(t)?Promise.all(t):o(t))}function o(t){var n=Object.getOwnPropertyNames(t),r=n.map(function(n){return t[n]});return Promise.all(r).then(function(t){return t.reduce(function(t,r,e){var o,i=n[e];return Object.assign((o={},o[i]=r,o),t)},{})})}function i(t){return Promise.resolve(t)}function u(t){if(t instanceof Error)return this&&(this._error=t),Promise.reject(t);throw new Error("Reject only accepts a new instance of Error!")}function c(t){var n=r(/*! ./ */0);if(!Number.isInteger(t))throw new f("FP.delay(millisec) requires a numeric arg.");return function(r){return new n(function(n){setTimeout(function(){return n(r)},t)})}}function s(t){var n=r(/*! ./ */0);return this.steps?this.addStep("delay",[].concat(Array.prototype.slice.call(arguments))):this&&this._FP?n.resolve(this.then(c(t))):c(t)()}var a=r(/*! ./modules/errors */1),f=a.FPInputError;t.exports={all:e,cast:i,reject:u,delay:s,_delay:c}}]);